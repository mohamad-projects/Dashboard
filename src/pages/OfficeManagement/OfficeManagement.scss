@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

// Variables for consistent theming (can be pulled from a global stylesheet)
$primary-color: #4a90e2; // A vibrant blue
$secondary-color: #6a6a6a; // For secondary text
$accent-color: #00d8ff; // From your sidebar hover
$background-light: #f7f9fc;
$card-background: #ffffff;
$shadow-light: rgba(0, 0, 0, 0.08);
$shadow-hover: rgba(0, 0, 0, 0.15);
$success-color: #28a745;
$danger-color: #dc3545;
$info-color: #17a2b8;

body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  background-color: $background-light;
  color: #333;
}

.admin-dashboard {
  display: flex;
  min-height: 100vh;
  overflow-x: hidden; // Prevent horizontal scroll on sidebar transition

  // Language-based main content margin
  &.en .main {
    margin-left: 250px;
    transition: margin-left 0.3s ease-in-out;
  }

  &.ar .main {
    margin-right: 250px;
    transition: margin-right 0.3s ease-in-out;
  }

  .main {
    flex: 1;
    padding: 2.5rem; // Use rem for consistent spacing
    box-sizing: border-box; // Include padding in element's total width/height
    transition: margin 0.3s ease-in-out; // Smooth transition for sidebar movement

    .page-title {
      text-align: center;
      font-size: 2.5rem; // Larger title
      font-weight: 700;
      color: $primary-color; // Use primary color for title
      margin-bottom: 3rem; // More generous bottom margin
      position: relative; // For underline effect
      display: inline-block; // To center underline effectively

      &::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background-color: $accent-color;
        border-radius: 2px;
      }
    }

    .loading-message,
    .error-message,
    .no-offices-message {
      text-align: center;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: 500;
    }

    .loading-message {
      background-color: lighten($info-color, 40%);
      color: darken($info-color, 10%);
      border: 1px solid $info-color;
    }

    .error-message {
      background-color: lighten($danger-color, 40%);
      color: darken($danger-color, 10%);
      border: 1px solid $danger-color;

      &.delete-error {
        animation: shake 0.5s; // Subtle shake on delete error
      }
    }

    .no-offices-message {
      background-color: lighten($secondary-color, 45%);
      color: darken($secondary-color, 10%);
      border: 1px solid lighten($secondary-color, 20%);
    }

    .office-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); // Slightly wider cards
      gap: 2rem; // More spacing between cards

      .office-card {
        background: $card-background;
        border-radius: 16px; // More rounded corners
        padding: 2rem;
        text-align: center;
        box-shadow: 0 6px 25px $shadow-light; // Enhanced shadow
        transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94); // Smoother transition

        &:hover {
          transform: translateY(-10px); // More pronounced lift
          box-shadow: 0 12px 40px $shadow-hover; // Stronger hover shadow
        }

        .icon-box {
          background-image: linear-gradient(45deg, $primary-color, darken($primary-color, 10%)); // Gradient background
          color: #fff;
          width: 70px; // Larger icon box
          height: 70px;
          margin: 0 auto 1.5rem; // More margin
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 32px; // Larger icon
          box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); // Shadow for icon box
        }

        h3 {
          font-size: 1.4rem; // Larger heading
          margin: 1rem 0 0.5rem;
          color: $primary-color;
          font-weight: 600;
        }

        .address {
          color: $secondary-color;
          font-size: 1rem;
          margin-bottom: 1rem;
          line-height: 1.5;
        }

        .contact {
          font-size: 1rem;
          color: #555;
          margin: 1.5rem 0;
          display: flex;
          flex-direction: column;
          gap: 0.5rem; // Spacing for contact lines

          p {
            display: flex;
            align-items: center;
            justify-content: center; // Center contact info
            gap: 0.5rem;
            margin: 0; // Remove default paragraph margin
          }

          svg {
            color: $success-color; // Consistent color for contact icons
          }
        }

        .actions {
          display: flex;
          justify-content: center;
          gap: 1rem; // More space between buttons
          margin-top: 1.5rem;

          button {
            padding: 0.75rem 1.25rem; // More padding for buttons
            border: none;
            border-radius: 8px; // More rounded buttons
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.2s ease;
            font-weight: 500;
            white-space: nowrap; // Prevent text wrapping

            &:hover {
              transform: translateY(-3px); // More noticeable lift on hover
              box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); // Subtle shadow on hover
            }

            &:active {
              transform: translateY(0); // Press effect
              box-shadow: none;
            }
          }

          .details-btn {
            background-color: $primary-color;
            color: white;

            &:hover {
              background-color: darken($primary-color, 10%);
            }
          }

          .delete-btn {
            background-color: $danger-color;
            color: white;

            &:hover {
              background-color: darken($danger-color, 10%);
            }
          }
        }
      }
    }
  }
}

// Media Queries for Responsiveness
@media (max-width: 1024px) {
  .admin-dashboard {
    &.en .main {
      margin-left: 200px; // Adjust margin for smaller screens
    }
    &.ar .main {
      margin-right: 200px;
    }
    .main {
      padding: 2rem;
    }
  }
}

@media (max-width: 768px) {
  .admin-dashboard {
    flex-direction: column; // Stack sidebar and main content
    
    .main {
      margin-left: 0 !important; // Override sidebar margin
      margin-right: 0 !important; // Override sidebar margin
      padding: 1.5rem;
      padding-top: 5rem; // Add padding for fixed mobile sidebar/header if you implement one
    }

    .page-title {
      font-size: 2rem;
      margin-bottom: 2rem;
    }

    .office-grid {
      grid-template-columns: 1fr; // Single column on small screens
      gap: 1.5rem;
    }
  }
}

@media (max-width: 480px) {
  .admin-dashboard .main {
    padding: 1rem;
    padding-top: 4.5rem;
  }

  .admin-dashboard .main .page-title {
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
  }

  .office-card {
    padding: 1.5rem;

    .icon-box {
      width: 50px;
      height: 50px;
      font-size: 24px;
      margin-bottom: 1rem;
    }

    h3 {
      font-size: 1.2rem;
    }

    .contact, .address {
      font-size: 0.9rem;
    }

    .actions {
      flex-direction: column; // Stack buttons vertically
      gap: 0.8rem;
      button {
        width: 100%; // Full width buttons
        padding: 0.6rem 1rem;
        font-size: 0.9rem;
      }
    }
  }
}

// Keyframe for shake animation
@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  20%, 60% {
    transform: translateX(-5px);
  }
  40%, 80% {
    transform: translateX(5px);
  }
}